{% load static %}

<header>
    <nav class="nav">
        <a href="{% url 'home' %}" class="link--logo">
      <h1 class="font--logo">WebSphere</h1>
    </a>
        <ul class="nav__links">
            <li class="nav__item">
                <div class="dropdown">
                    <span class="nav__item-text">Explore</span>
                    <div class="dropdown-content">
                        {% for category in categories %}
                        
                            <a href="{% url 'category_filter' category.id %}"
                                >{{ category.name }}</a>

                        {% endfor %}
            </li>
            <li class="nav__item nav__search">
                <form
                    action="{% url 'search_results' %}"
                    method="get"
                    class="nav__container--search-bar"
                >
                    <input
                        type="search"
                        class="nav__search-bar"
                        placeholder="Enter your search here"
                        name="q"
                        aria-\
                        label="Search"
                    />
                    <button type="submit" value="search" class="btn--search"> search</button>
                </form>
            </li>
            <div class="nav-section-2">
            <li class="nav__item write-post">
                <a class="nav__link" href="{% url 'create_blogpost'%}">
                    <div class="nav__link--post">
                        <img
                            src="{% static 'assets/images/writing.svg' %}"
                            alt="writing icon"
                        />
                        <p>Write</p>
                    </div>
                </a>
            </li>
            
            <li class="nav__item icon">
                <img
                    src="{% static 'assets/images/light-mode.svg' %}"
                    alt="light-mode icon"
                    title="toggle light-dark mode"
                />
            </li>
            <li class="nav__item icon" id="notification">
                <img
                    src="{% static 'assets/images/notification.svg' %}"
                    alt="notification icon"
                    title="notifications"/>
            </li>

            {% if user.is_authenticated %}
            <li class="nav__item user-detail">
            <div class="nav__item-user">
            <img src="{{  request.user.profile.photo.url }}" alt="{{request.user}}'s photo"/>   
        </div>
        <a href="{% url 'user_profile' pk=request.user.pk %}" class="nav__link--user">{{request.user}}</a>
    </li>
            {% else %}
            <li class="nav__item d-flex--c">
                <a class="nav__link" href="{% url 'account_signup' %}">Signup</a>
            </li>

            {% endif%}
        </div>  
        </ul>
    </nav>
</header>
