{% extends 'base.html' %} {% load static %} {% block title %} Home {% endblock%}
{% block custom_css %}

<link
    rel="preload"
    as="style"
    href="{% static 'CSS/blog_home.css' %}"
    onload="this.rel='stylesheet'"
/>

{% endblock custom_css %} {% block content %}
<section class="container container-grid">
    <article class="blogposts">
        {% for post in object_list %}
        <div class="post-card">
        <div class="post-author">
            <span class="post-author__profile-pic">profile-pic</span>
            <span class="post-author__username"> {{post.author}} </span>
        </div>
        <p class="publish-date">{{post.created_at|date:"M d, Y"}}</p>

        <div class="blogpost__content">
            <div class="post-content">
                <h3 class="post-title">{{ post.title }}</h3>
                {{ post.content|truncatewords:40 | safe }}
            </div>
            <div class="post-image">
                <img
                    src=" {{ post.cover_img.url }}"
                    alt="{{ post.title }}"
                    class="blogpost__cover-img"
                />
            </div>
           
        
        </div>
       <div class="bottom">
        <a href="{% url 'blogpost_detail' pk=post.pk %}">Read More</a>

        <small class="categories"> {% for category in post.categories.all %}
            {{ category.name }}
        {% endfor %}</small>
    </div>
    </div>
    {% endfor %}
    </article>

    <aside class="sidebar">
        <div>categories</div>
    </aside>
</section>

{% endblock content %}
